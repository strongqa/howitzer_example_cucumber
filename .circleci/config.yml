version: 2

jobs:
    build:
      working_directory: ~/howitzer_example
      docker:
        - image: circleci/ruby:2.4-browsers
      steps:
        - checkout
        - run: git submodule update --init
        - run: sudo apt-get update
        - run: sudo apt-get install g++ qt5-default libqt5webkit5-dev gstreamer1.0-plugins-base gstreamer1.0-tools gstreamer1.0-x
        - run: bundle install
        - run: bundle exec rake features:smoke
