language: ruby
dist: trusty
sudo: required
addons:
  chrome: stable
rvm:
  - 2.6.2
apt:
  sources:
    - ubuntu-sdk-team
  packages:
    - qt5-default
    - libqt5webkit5-dev
    - gstreamer1.0-plugins-base
    - gstreamer1.0-tools
    - gstreamer1.0-x

install: bundle install --jobs=3 --retry=3 --with webkit
env:
  matrix:
    - secure: "EnztvYGB7JgohVEpuzgM8axgdmOANip+hinvp2AT8Uy3fle3mzx5RuB4aFheNoPHW2RgfOcsWtHtH/z4LnEiiYyk/8xc5kDCpbD/Q1FVnFpo1zmHByegebpxXhhOs1H4lMpwh8wNv1kdfQ/Koy8RBn2CHXQ4089uFyIplXYflEqEoZgiKgBcdZK2c+cUeCSk+tnsWizM07yCB885S8/au1dx688jSiYdaVbH48AznnAZenXq7XY4Aqd1KaKH31aT/Uf1bSaRYvBDozAZaTjb5/JsrTEdfLrxvHfLpEypCqX6CjOpsU4BeuTZtbWy4Bcw/pYneJ3pZImmdNQP6BuCt+vlCitgv2SXixMp0cXIXRiM9XAFb9u4nUbqckLC06U5FE9q5NKvp7B90AwqSZW7RM8PTHo3hg3Az/bYCXD9Y3/45dplQ0SPDptvE8UpNlDBg9cxdsNfDPooUwoAdNltGAizHER72u7aw+hySOu1uzPlGT40Qy0+dfMIENLQKqTF9Q53R0ud9BCiOa/a6kJN9HHjuTkqhssDRPvq+UGm6L5eOAlYyJgBlya6KT5ND/j/ls79EVJB7sEscPvc/6WK9BBFoB6neAk+VbVnfTtMtwXYrvjDYMFXFXFqYoF1uWOrWxvspAY7Grkr3niBmnvopKj8MFLeTwnLR1tp0zqwp4Y=" #driver=poltergeist
    - secure: "A6lewLaPmy6dqaSB30AfTxOdVXO4pjmerkiKCORLYT+CXa9QRbTvlABdGzkKLCbVNO5GrWI3cqg25n7CisSbKgZGthA6LnneyRK4my8IvMsMDK6zqWyxv3Z0mKFR89ClD0SAzO+qeh/aiKuPuUVPTz7HFR2GwvQlMGYSZhc2p/McWUJvcQOI56QakNdIyVoi1ZQkVeeh8+vQm593wAjs9qzmARvNWRfDay40xN4WOj9DSnylrbFWo7gGIcMihkC076fhY8g3TYNZrC35op3R/+nxZGzlo8RR1Gz5xrROaPLdSx5uZgWI/tfskL3976GXBFPSa+Ih3LBCVL2a82gXre4EcW8m5HgErqeBLQd5wypAw3PeRabYG0P1eUWmDpfYAENLpTzQnblri4d2yETwVH5EyQDBolc5ybDLb4A/khF9etlw+ea5g+udD0h6mLfrNQj43ApyoLsTOl6itwHoebQG9qkpnkbRiQX1ucXu4DAPo3E7gA8WrTjIpKPBTcl46NhtTrfEWptqRJoXpir33PDHKlPy/DlrY/KnzhSiFuDrVWz994cCQTL8BV7BU1ADLQZyp+YEwp9T15A1xdJGJBGO17cgmFF6Jv7BtV0rOMr5NDv5U2qtCLMVvvcCcsboqBBbbhLtDUf34SWFcRnSBPDffTqoZQE9B4LYz/SbD3s=" #driver=headless_chrome
    - secure: "Onht7Hmy+RUjAmO8gp8ASIrJt+PKFrox3U6/sFKsyndNHKhKCI1RdN2mMaKzx0TTM/5lUixvhKO3CCmfGCdC1jjCKrK/4SSItCT7a89HvXvRrFbsoTX1un/nx8YDb3g+uS0C6G+fFf/r+4xI/zgU1QfEENlJjhZN+Hwrhngm5ECnAG89mDOgfZqC9kTMOdn14XPKIQmHZ1fOhvmbOpCah5owckrnbMEUXze/zZEHNndO+h1FWNRiiaAKVKCtsoHYH8wuXrSB8ACOkwNoOG9TaizeJ3LSFgD44ePkoLxFZLFN9SI84k495EQ0BJNxa3YTyPL6/sgF6YYW9wQykbBW1ZdSRxlod57WVBVRSF8IVCtB96e+aIHbDVeVcptkb4GqM71ImQ1jBGcK2mm+9gEKA2eb70gzVQl4kd7d3/byrCOSfp9lMMtjz9qYGBCMIva0iuPqrXAqctb6DNEI5jNaQ02HQnbERebAo4dKRzKkGuWU8fnQd1sHRjliUjPILe/9gQ/2qwdDINT8w/SIVnsFS7FD/FYN9q0KGGNc8AO2b3rIbRw2Zo4EDBHAGaplpOaHReNDqHirmIc2AZjrIYuCEyS6rvSGTZdnUCJts6fQWcqYv8NEZtZUz6B6BdRBtVA9v1KZrZShYVuxPkJkBqfC79DsVww2oBbBcQH1hj6ZoNY=" #driver=webkit
    - secure: "dRL0Y4dwe46GsRc7YU6LTleQ994dvPBPk7eklGqsuP8+deimcO1779gV2TtN+dbjTg9hIIjzRp5f/I+KrL8m9iJFy4XjBtFtBnv4VmAyR0aHWxco+1RNBcmBUxOSxl418H+ifYwyus8mA9ItQohfomsEa1qzxBfVBtEJgI9BVPLPaEJ2YEsFQqfjoeJz+bMcvsdf47foUXWjVmHe0lPyF3cRj8AQzsPQM0FzGLEyqd8gB/JOyuAPmRCVCSPJGvqNpWNa5lO5dfwmRXO/6IJaRIyhczc0qJWqtcbt4ykS3s6xjsJR1aoGXzbYDg8xEUV+iFJ7tEI0O7IEsG5JMDjWGTQelHsfP/zWdMcqfOWcYEr/zhpDoZcJFJ5ZNh1K7zs93W49rTYudGMhaHeo45z4yXIAHUPY2+lEvgvu6Bx9z94tfA88zX43xx3OBeeMrHjJCJHoMdH20iSnH1bqQUgF389VmePp3HUgGxECKSavPjH3Y/sG6Vs5Pzb/iwd8W5GHi/OXlqZAkVPT0zp++LYCNeUOTmWLfuXYDnAIoCOPpT8M2bZlU5RXV+4X6GmOsxAOYCu4S5s+GwpUvXZJfGj9+yzw5SNyzALmjQyA2lFFF41myWbUZL8VpLY0QTAb5I5QfCf0kb4wQsHipByXplNiG2nw9npIgbQUcEewYOW+ddI=" #driver=sauce
    - secure: "DkigmgVTg0pm79sZxG0sX/uA0kfHQ2RdQR2wYHw5BHmrFr7k7c3myfDcvrwmOGgfx2MX8uaatSWsrfFcWNH5LXCaSn/W3pA61RNu4XBhfHTwSXBQrETuxudd9nEdDv7lc8ZyxYXU4/KpkhkACCemDu7em8yPpqUwNCFVZkM69bBczhAsExrJv/N14RwJJ4+45I3NflF9N7yT6/9LaW+y2es0UL7S9YnQT/1TzQ3jTXz13kpG2WPJ+47QwHDQvaZq/xhJP40iM/h5hnlpPw4MA2JlrlVkbS7GXg68SYoPOHJWOReX1VCCfyR1OvlnJxZk6FYrEJTO40Q/vOCiWLMaEBOfFLjQAEjsWJFxNvO3Zwv1wDl7ouJGxlDQbM0rNw3R8SxSzvnb89TturRf1x9jB6DOQT8KV9kIbT9XNp0DuUYLMjRQ5f96ABc5oMZN9ZYnpNz5aDcVdZmSuSReQsuPGyJZW2eD2S5A2IrrSCm+OcjRe13NxKv6QWdspMVy/IY3GHAPUVQ51/nJ4MDgQBZdsMmfAD3/yrEvQL+b1Zy/nJsAPKP+nN4rowSD+WWgrUGSu3ruQFJsr+H1CQqwdoJmXAYdLpu7jJASoFmRirNo3GzvacOCVChBPDxZTXz2+1yNGMWCha/3toe2uw9YAEMPQXGV0Er3KIx/azsH0itELJw=" #driver=testingbot
    - secure: "LGWAKWspJjUTJNxwLk/rqCOtQWlZlaKuQ8mDzMl+GHiKzWqf5yZfq99rbrTdagHDclyuYNGwsYaMTp/r1wYyaGwqi1/u8sbP+v85Hpm9qNlNZ6kzz9BExgPl9EE9isNu0wqcoSu8NMvR7xL/r/yxaYQpw6JU0+X7PB/hjKiLdafwxaH15xV/6btrXHx+PgtPmsXCP74KJG2TdFBEUBjWJG05TjNduxYjyPhX6GNFqgdOpTuvFiWI28t9BLUvx2BiMI9cnt2RIRo+mXQUQixAmp4Hhtm+0fFHHS42kqtmogkladrjzJivN3CcxNmf6CteWSLcGlCR9Oz3sIceC7MhzcHjeBu0zjVnOHIBXMLFInEjfAzJKvLzZ0XHcfYbUCqVKXMF/7i8rkuGGVf5XwcqYjFPGXghKWKc83mH0cFG1bcmq+yRKToop33WC8kvTLCE0TxGleZ+Cwi8EVcyXtwfk/WGQaftypUhP+ETOfg7QCRL/2+wLyxXq+GsdlwvcXS1hF93Cag0woqhkLWzqS9NE5du0ScLnSwT0RIS1qhR1/VyLcb20+wlw5vmiQC1xsPhXhkq62XI7Pka5gSPKRLm168N4W7yB4pQ/lcAnO3kdlO3bVgeCaSvHuHbudez1jXaj3tHv+oTbyMMi602DEHMfu8xqQEkw5AhoInhwLe4WqU=" #driver=browserstack
    - secure: "eeymNRGk3KfC4tBKJwcyP5kJK9swnLYBwKFDN4GFKuzz2ZaftewDBaxvna8xf7oZsDp36bz8/nD+vT9SHRHgxwXlj61VaQ/1dQvyIxrcRde84LAET3fNyEBevd8QCO4SYyD2Llicg9vTdwv7vzBYGqxRK4sjpK97gzj6GZeclxlO//u4j44qhC8818XwlrfTNidcsor3kwcneooO6BcdVS7qYW5ntSOcMtaPa3wcXbLZznxV6e+TVGdcx2Edc1mZQTHOGHRrjmxvIMLCM5i8BLXw7+aznsTtzD8+vwgCkz90f55QsdgiII+vJty2E74uDKp3D3uXD9kNGRv3TN142vny8ENvYho5m0/+yCx8eqxtHx4iQJ0jH/s1q4R8E4Dv1QsUSUpZ8hD31vBZmW40BBstpYzHDvFeGdgMoHbjvjd+2Cz52ZqVcNGiMMB4atfQY1bhhijn3SuNSQc8l4NXUhFmmw+4S1+TJKr3lucAkOdoRTBFsxfZjVZFWR6L1RY4fRFn83R7BpiCKBzwSRJMA5sHdIUH0TJTmH+i5r1OBNr3DOYV9Sk6F+XboE6roBR0pBxoxVfkAZe5Sa5Yp9k4gtA7GNvVOQg22U8Mhy+VpXvHEMF3Adv9GUuP9222nAQecsGpWbLxrZ7yvGamoavv4hiigGlxFfB0J45BA1d1vOQ=" #driver=crossbrowsertesting
    - secure: JVZeEzy0AHm6uc0JyMxmyMc3MYbIGOHitXOyHmLpRS43kmwAo/R222UfrF6R4VsD0gwqZS+i3+lD9iT19pwqViLlPAgfFCMAu58OrIukZBQWkPF2Myd4BTnpti7HAtilrYohU/FIn+OEPGzOclXTFHw5H0wxFU06uPJcTHeD1O+KJoQjrWK89T89bm86oHYxQKwpXTIcYMbTjyk6pLjtXCts2/CHL9LqINt83NudgoDPYn238nlpqUupYO5CqCUGmxpATA345l4ysx38D5KX1awN/NcPs6CL2A86kMsiA3p+swWSybxsAVOBIpmhCWTxo7Tt+86eJxS0gb5Ri5/I0HIvfhNsqky8RyKGclEaBprJZPy09DWck8eavIr9bL9gfLa3qyT60AVVJeUvOzO0AiP2inu3qaCOfcS108KpTOrKfyy2rd+ZY0ID0UJi9jFafCyF3CXl8Dy9iaK6XeJzs2TRJ4TliMNXu4mNrztE+Fx0bh/FV3gVD5t6YfyGLphTBeAOEZ38ngWzyScxMyAFFL5eALtqu+VhUOlL0GXozYTfLVTpvwLkuSGwSEn2yUeFzZWNnfAHRz9hf9I9pMTg32joK2VkUa90AWPlmgY+Pc48CZMa3R1U081T5twohjMkoPWyTDe0xA/IgnR+WZ25RwKaEDTmtAIR06jbt/pkKMk= #driver=apium
script: "./scripts/run-tests.sh"
